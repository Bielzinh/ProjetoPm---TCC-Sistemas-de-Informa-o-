<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title><ui:insert name="titulo">Pesquisar Policiais</ui:insert></title>
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<link rel="stylesheet" type="text/css" href="css/estilo.css" />

</h:head>

<body>
<p:panel align="center" style=" border:2px solid #87cefa;">

<h:form id="forma" prependId="false">
	
	<p:panel style=" border:2px solid #87cefa;">
	<h1 style="color:#87cefa;"> Policiais Cadastrados</h1>
	<hr size="2" color="#87cefa">
</hr>	
	
		</p:panel>		
		<br/>
	</h:form>


               <h:form id="form" prependId="false">

		
			
	<p:menubar style="background:#87cefa;">
	
	
	
	<p:submenu label="Cadastro de Funcionarios">
	<p:submenu label="Novo Funcionário">
	<p:menuitem  value="Dados de Admissão" icon="ui-icon-disk" url="editarPolicial.jsf"/>
	</p:submenu>
	
	<p:submenu  label="Buscar Funcionário" >
	<p:menuitem icon="ui-icon-search" value=" Admitidos"  url="consultarPolicial.jsf"/>
	</p:submenu>
	
	
	</p:submenu>
	
	
	
	<p:submenu label="Cadastro de Material Bélico">
	<p:menuitem value="Novo Material Bélico"  url="editarMaterialBelico.jsf"/>
	<p:menuitem  value="Consultar Material" icon="ui-icon-search" url="consultarMaterialBelico.jsf"/>
	
	</p:submenu>
	
	
	
	
	<p:submenu label="Cadastro de Setores">
	<p:menuitem value="Consultar Setor" icon="ui-icon-search" url="editarSetor.jsf"/>
	</p:submenu>
	
	<p:submenu label="Adicionar Carga ao Policial">
		<p:menuitem value="Adicionar Carga" icon="ui-icon-search" url="adicionarCarga.jsf"/>
			    
			    <p:menuitem value="Relatório de Cargas" icon="ui-icon-search" url="RelatorioCargas.jsf"/>
		
		</p:submenu>
	
	<p:submenu label="Abrir Chamado">
	<p:menuitem value="Novo Chamado" icon="ui-icon-disk" url="abrirChamado.jsf"/>
	<p:menuitem  value="Chamados Abertos" icon="ui-icon-search" url="chamadoAberto.jsf"/>
	
	</p:submenu>
	
	<p:submenu label="Mapa de Localização">
	<p:menuitem value="Localizar Armas" icon="ui-icon-disk" url="Mapa.jsf"/>
		<p:menuitem value="Relatório de Armas" icon="ui-icon-disk" url="RelatorioArmas.jsf"/>
	
	</p:submenu>
		

	
	<p:submenu label="Sair">
	<p:menuitem value="Deslogar" icon="ui-icon-arrowrefresh-1-w" url="login.jsf"/>
	
	
	</p:submenu>

	</p:menubar>
			<br/>
			
<br></br>
<div align="center">
<p:fieldset columns="2" style=" border:2px solid #87cefa;">

<p:panelGrid columns="2" style=" border:2px solid #87cefa;">
			<p:commandButton  value="Filtrar Matrícula" ajax="false" action="#{policialMB.acaoPesquisar}"/>	

			<p:inputText id="matricula" value="#{policialMB.filtroMatricula}"
				required="false"></p:inputText>

			
		<p:commandButton  value="Filtrar Setor" ajax="false" action="#{policialMB.acaoPesquisar}"/>	
			
			<p:selectOneMenu id="setor"
				value="#{policialMB.filtroSetor}" required="false"
				converter="set-converter">
				<f:selectItem itemLabel="Selecione..." itemValue="" />
				<f:selectItems value="#{policialMB.setores}" var="set"
					itemLabel="#{set.nomeSetor}"></f:selectItems>
			</p:selectOneMenu>
			</p:panelGrid>
			</p:fieldset>
			</div>
		
<br></br>		

<p:dataTable id="tabela" value="#{policialMB.policiais}" var="poli"
			border="1" cellspacing="0" cellpadding="5">
			<p:column>	
								<p:fieldset style=" border:2px solid #87cefa;">
			
			
			<p:fieldset>
			<p:column headerText="" style="width:1px;">
				<h:graphicImage url="foto.jsf?codigo=#{poli.codigo}" width="75"
					height="75"  />
			
			
			
						</p:column>
						<br/>
				<h:outputText style="color:blue;" value="#{poli.nomePolicial}"  ></h:outputText>
			
			</p:fieldset>
			<br/>
			<p:fieldset>
			<h3 style="color:#87cefa;"> Dados do Policial</h3>
	<hr size="2" color="#87cefa">
</hr>	
<p:panelGrid columns="2">
			<p:panelGrid columns="1" style="width:300px;">
			    <h:outputText value="Matricula: "/>
				<h:outputText style="color:blue;" value="#{poli.matricula}" 
					 ></h:outputText>
					</p:panelGrid>
					
			<p:panelGrid columns="1" style="width:300px;">		
				<h:outputText value="Setor: "/>
				<h:outputText style="color:blue;" value="#{poli.setor.nomeSetor}"></h:outputText>
</p:panelGrid>

			<p:panelGrid columns="1" style="width:300px;">		
				<h:outputText value="Escala: "/>
             <h:outputText style="color:blue;" value="#{poli.escala}"></h:outputText>
			
		</p:panelGrid>	
		
		<p:panelGrid columns="1" style="width:300px;">		
				<h:outputText value="Cargo: "/>
             <h:outputText style="color:blue;" value="#{poli.cargo}"></h:outputText>
			
		</p:panelGrid>
			
		</p:panelGrid>	
		</p:fieldset>
					<br/>
		
		<div align="center">
		<p:column >
				<f:facet name="header">Opções</f:facet>
					<p:commandButton ajax="false" value="Alterar"
						action="#{policialMB.acaoAbrirAlteracao(poli.codigo)}" />
					
					<p:commandButton immediate="true" value="Excluir "  onclick="PF('dlg1').show();" />
   
 
   
						
	<p:dialog header="Deseja Excluir" widgetVar="dlg1" minHeight="40">
	    <p:commandButton immediate="true" ajax="false" value="YES"  onclick="PF('dlg1').show();" action="#{policialMB.acaoExcluir(poli.codigo)}"/>
		<p:commandButton immediate="true" value="NO"  onclick="PF('dlg1').show();" action="#{policialMB.acaoListar}"/>
		</p:dialog>
			</p:column>
			</div>
						</p:fieldset>
						
			
			</p:column>		
			
			<br/>
				
			
			
			</p:dataTable>
<br>
</br>

			
			
			
			
			<div align="center">
<p:commandButton  value="Listar Todos" ajax="false" action="#{policialMB.retornarConsulta}"/>	
			
			
		</div>	
			
			
			
				</h:form>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
				<br/>
	<f:facet name="footer"  >
		<div >
	
	            <div align="center">
				<h:outputText style="color:#87cefa; font-size: 15px;" value="Copyright&copy; 2017 - by Gabriel Fernando - Trabalho de Conclusão de Curso"></h:outputText>
				</div>
				<div align="center">
                <h:outputLink style="color:red;"  value="https://pmerj.rj.gov.br/" target="blank">Site PMERJ</h:outputLink>
                
                                </div>
                                <h:outputText value="Usuário: " style="color:red;"/>
	<h:outputText style="color:red;" value="#{loginMB.usuario.nome}"></h:outputText>
                     <div align="right"> <a href="http://hibernate.org/" target="blank"><p:graphicImage  style="float:right;height:40px; width:40px;" url="img/hibernate.png" 
					></p:graphicImage></a></div>
					<div align="right"> <a href="http://tomcat.apache.org/" target="blank"><p:graphicImage style="float:right; height:40px; width:40px;" url="img/download.jpg" 
					></p:graphicImage></a></div>
					<div align="right"> <a href="http://www.oracle.com/technetwork/java/index.html" target="blank"><p:graphicImage  style="float:right; height:40px; width:40px;" url="img/java.png"  
					></p:graphicImage></a></div>
					<div align="right"> <a href="https://www.primefaces.org/" target="blank"><p:graphicImage   url="img/a.jpg" style="height:40px; width:40px;"
					></p:graphicImage></a></div>
					
					
					
				</div>
			</f:facet>

</p:panel>





</body>


</html>